{"version":3,"sources":["clip-path.polyfill.js","browser-validation.js","main.js"],"names":["testEl","propValue","$","_ClipPath","hasSupportToPolygon","document","createElement","style","clipPath","SVGPolyfill","element","pathPoints","edge","units","svgUnits","indexOf","replace","finishedPathPoints","arrayPathPoints","split","i","length","arrayPathPoint","lN","Number","rN","elClipPathId","getAttribute","getElementById","setAttribute","querySelector","clipPathID","Math","random","toString","substring","svg","createElementNS","setAttributeNS","width","height","defs","polygon","foreignObject","appendChild","cloneNode","parentNode","replaceChild","body","setTimeout","applyClipPath","_supportPolygon","webkitClipPath","window","navigator","userAgent","ClipPath","selector","supportPolygon","console","error","nodeList","querySelectorAll","Array","prototype","forEach","call","elementPathPoints","jQuery","fn","pathStr","Object","path","this","each","attr","sliderControlsContainer","sliderControls","slides","hero","chrome","webstore","runtime","log","addEventListener","event","target","getUniqueID","matches","removeSliderControlsActiveState","setActiveSlide","classList","add","network","value","concat","sliderControl","remove","slide","fetch","then","response","json","updateShareCount","Facebook","total_count","reaction_count","networks","share_count","comment_count"],"mappings":"uJAkBA,IAEKA,EACAC,EA8KMC,EAAGC,EAjLVC,GAECJ,EAAYK,SAASC,cAAc,OACnCL,EAAY,8BAEhBD,EAAOO,MAAMC,SAAWP,EAEjBD,EAAOO,MAAMC,WAAaP,GAOlC,SAASQ,EAAYC,EAASC,EAAYC,OAErCC,EAAQ,KACRC,EAAW,qBACiB,IAA7BH,EAAWI,QAAQ,OACrBF,EAAQ,IACRC,EAAW,qBAEZH,EAAaA,EAAWK,QAAQ,WAAY,IAG/B,OAAVH,EAAe,SACbI,EAAqB,GACrBC,EAAkBP,EAAWQ,MAAM,MAC9BC,EAAI,EAAGA,EAAIF,EAAgBG,OAAQD,IAC5C,KAEKE,EADOJ,EAAgBE,GACDD,MAAM,KAC5BI,EAAKC,OAAOF,EAAe,IAAKG,EAAKD,OAAOF,EAAe,IACrD,IAAPC,IACFA,GAAS,KAEA,IAAPE,IACFA,GAAS,KAEVR,GAAsBM,EAAG,IAAIE,EAC1BL,EAAKF,EAAgBG,OAAS,IAChCJ,GAAsB,MAGxBN,EAAaM,MAKVS,EAAehB,EAAQiB,aAAa,wBACrCD,EAAc,CACKrB,SAASuB,eAAeF,GAC9BG,aAAa,gBAAiBf,GACzBT,SAASyB,cAAc,IAAMJ,EAAe,cAClDG,aAAa,SAAUlB,OAC/B,KACFoB,EA/DE,aAAeC,KAAKC,SAASC,SAAS,IAAIC,UAAU,GAiEtDC,EAAM/B,SAASgC,gBAAgB,6BAA8B,UACjED,EAAIP,aAAa,QAAS,KAC1BO,EAAIP,aAAa,SAAU,KAC3BO,EAAIP,aAAa,oBAAqBE,GACtCK,EAAIE,eAAe,gCAAiC,cAAe,gCAEhE1B,EAAK,CACJF,EAAQiB,aAAa,UACvBS,EAAIP,aAAa,QAASnB,EAAQiB,aAAa,UAEhDjB,EAAQmB,aAAa,QAAS,IAC9BnB,EAAQH,MAAMgC,MAAQ,OACtB7B,EAAQH,MAAMiC,OAAS,OACvBJ,EAAI7B,MAAMgC,MAAQ,OAClBH,EAAI7B,MAAMiC,OAAS,WAEfC,EAAOpC,SAASgC,gBAAgB,6BAA8B,SAE9D7B,EAAWH,SAASgC,gBAAgB,6BAA8B,aAC7DR,aAAa,KAAME,GAC5BvB,EAASqB,aAAa,gBAAiBf,IAEnC4B,EAAUrC,SAASgC,gBAAgB,6BAA8B,YAC7DR,aAAa,SAAUlB,OAE3BgC,EAAgBtC,SAASgC,gBAAgB,6BAA8B,iBAC3EM,EAAcd,aAAa,YAAa,QAAQE,EAAW,KAC3DY,EAAcd,aAAa,QAAS,QACpCc,EAAcd,aAAa,SAAU,QAErCc,EAAcC,YAAYlC,EAAQmC,WAAU,IAC5CT,EAAIQ,YAAYD,GAEhBnC,EAASoC,YAAYF,GACrBD,EAAKG,YAAYpC,GACjB4B,EAAIQ,YAAYH,GAEhB/B,EAAQoC,WAAWC,aAAaX,EAAK1B,OACjC,KACAF,EAKAkC,GALAlC,EAAWH,SAASgC,gBAAgB,6BAA8B,aAC7DR,aAAa,KAAME,GAE5BvB,EAASqB,aAAa,gBAAiBf,IAEnC4B,EAAUrC,SAASgC,gBAAgB,6BAA8B,YAC7DR,aAAa,SAAUlB,GAE/BH,EAASoC,YAAYF,GACrBN,EAAIQ,YAAYpC,GAChBH,SAAS2C,KAAKJ,YAAYR,GAC1B1B,EAAQmB,aAAa,oBAAqBE,GAE1CkB,WAAW,WACVvC,EAAQH,MAAMC,SAAW,QAAUuB,EAAa,KAC9C,KAQN,SAASmB,EAAcxC,EAASC,EAAYwC,GAE3CA,OAA6C,IAApBA,EAAkCA,EAAkB/C,OAGjC,IAAlCM,EAAQH,MAAM6C,eAEvB1C,EAAQH,MAAM6C,eAAiB,WAAazC,EAAa,IAGhDwC,EAETzC,EAAQH,MAAMC,SAAW,WAAaG,EAAa,KAKF,EAA9C0C,OAAOC,UAAUC,UAAUxC,QAAQ,QAErCN,EAAYC,EAASC,GAAY,GAIjCF,EAAYC,EAASC,GAQxB,SAAS6C,EAASC,EAAU9C,EAAY+C,OAEnCD,SACHE,QAAQC,MAAM,qBACP,MAGJC,EAAWxD,SAASyD,iBAAiBL,GAAY,IAErDM,MAAMC,UAAUC,QAAQC,KAAKL,EAAU,SAASnD,OAE3CyD,EAAoBzD,EAAQiB,aAAa,cAAgBhB,EAE1DwD,EACFjB,EAAcxC,EAASyD,EAAmBT,GAE1CC,QAAQC,MAAM,0FAA2FlD,KAO5G8C,EAASN,cAAgBA,EAEJ,oBAAXkB,SACClE,EAcPkE,OAdUjE,EAcFqD,EAbVtD,EAAEmE,GAAGb,SAAW,SAASc,UAIrBA,IAAYC,OAAOD,IAAYA,EAAQE,OACzCF,EAAUA,EAAQE,MAGZC,KAAKC,KAAK,WAChBvE,EAAU+C,cAAcuB,KAAMvE,EAAEuE,MAAME,KAAK,cAAgBL,OC7M/D,ICGMM,EAA0BvE,SAASyB,cAAc,0BACjD+C,EAAiBxE,SAASyD,iBAAiB,wBAC3CgB,EAASzE,SAASyD,iBAAiB,gBFLzCiB,EAAA1E,SAAAyB,cAAA,SCAuBuB,OAAO2B,SAAa3B,OAAO2B,OAAOC,UAAc5B,OAAO2B,OAAOE,WCSnFvB,QAAQwB,IAAI,cAA0B,GAEtC3B,EAAS,qBAGXoB,EAAwBQ,iBAAiB,QAAS,SAAAC,OAC1C3E,EAAU2E,EAAMC,OFLxB5E,EAAS6E,QAAT,0BAAuB7E,EAAA8E,QAAA,gBEOnBC,IACAC,IACAhF,EAAQiF,UAAUC,IAAI,gBFkBxB,SAAA/E,EAAAgF,EAAAC,GACQzF,SAAGyB,cAAH,uBAAAiE,OAARF,IEKkB/D,cAAc,4BFHjCnB,UAAaA,EEjBd,IAAM8E,EAAkC,WACtCZ,EAAeZ,QAAQ,SAAC+B,GFNtB5F,EAAAA,UAAuB6F,OAAA,gBEWrBP,EFJelF,WAPKsE,EAA1Bb,QAAA,SAAAiC,GEaIA,EAAMV,QAAQ,cACVU,EAAMP,UAAUM,OAAO,aACvBC,EAAMP,UAAUC,IAAI,eFD5Bb,EAAAY,UAASlF,SAAYC,mBAEhBG,EAAK8E,UAATM,OAAA,mBACInF,EAAAA,UAAW8E,IAAA,oBEahBO,MAAM,iHACHC,KFJGlF,SAAAA,UEKKmF,EAASC,SAEjBF,KAAK,SFJMlF,GEKVqF,EFJGjF,WAAsBH,EAA1BqF,SAAAC,aEMCF,EFL8C,YAACjF,EAAhDkF,SAAAE,gBEMCH,EAAiB,UAAWI,EAASH,SAASI,aAC9CL,EFNW,WAAAI,EAAAH,SAAAK","file":"main.js","sourcesContent":["/**\n * Work on top of\n * https://github.com/AlfonsoFilho/ClipPath\n * to enable module import\n */\n\n/**\n * Generate an unique identifier\n * @return {String}\n */\nfunction getUniqueID() {\n\treturn 'clip-path-' + Math.random().toString(36).substring(7);\n}\n\n/**\n * Checks if css property clip-path supports 'polygon()' attribute\n * @return {Boolean} Return TRUE if browser has support\n */\nvar hasSupportToPolygon = (function () {\n\n\tvar testEl    = document.createElement('div');\n\tvar propValue = 'polygon(0 0, 0 0, 0 0, 0 0)';\n\n\ttestEl.style.clipPath = propValue;\n\n\treturn testEl.style.clipPath === propValue;\n\n})();\n\n/**\n * Use SVG polygon\n */\nfunction SVGPolyfill(element, pathPoints, edge) {\n\n\tvar units = 'px';\n\tvar svgUnits = 'userSpaceOnUse';\n\tif(pathPoints.indexOf('%') !== -1){\n\t\tunits = '%';\n\t\tsvgUnits = 'objectBoundingBox';\n\t}\n\tpathPoints = pathPoints.replace(/px|em|%/g, '');\n\n\t// Remove units from path\n\tif(units !== 'px'){\n\t\tvar finishedPathPoints = '';\n\t\tvar arrayPathPoints = pathPoints.split(', ');\n\t\tfor (var i = 0; i < arrayPathPoints.length; i++)\n\t\t{\n\t\t\tvar item = arrayPathPoints[i];\n\t\t\tvar arrayPathPoint = item.split(' ');\n\t\t\tvar lN = Number(arrayPathPoint[0]), rN = Number(arrayPathPoint[1]);\n\t\t\tif(lN !== 0){\n\t\t\t\tlN = (lN/100);\n\t\t\t}\n\t\t\tif(rN !== 0){\n\t\t\t\trN = (rN/100);\n\t\t\t}\n\t\t\tfinishedPathPoints += lN+' '+rN;\n\t\t\tif(i < (arrayPathPoints.length - 1)){\n\t\t\t\tfinishedPathPoints += ', ';\n\t\t\t}\n\t\t}\n\t\tpathPoints = finishedPathPoints;\n\t}\n\n\n\n\tvar elClipPathId = element.getAttribute('data-clip-path-id');\n\tif(elClipPathId) {\n\t\tvar actualClipPath = document.getElementById(elClipPathId);\n\t\tactualClipPath.setAttribute('clipPathUnits', svgUnits);\n\t\tvar actualPolygon = document.querySelector('#' + elClipPathId + ' > polygon');\n\t\tactualPolygon.setAttribute('points', pathPoints);\n\t} else {\n\t\tvar clipPathID = getUniqueID();\n\n\t\tvar svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\t\tsvg.setAttribute('width', '0');\n\t\tsvg.setAttribute('height', '0');\n\t\tsvg.setAttribute('data-clip-path-id', clipPathID);\n\t\tsvg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n\t\tif(edge){\n\t\t\tif(element.getAttribute('class')){\n\t\t\t\tsvg.setAttribute('class', element.getAttribute('class'));\n\t\t\t}\n\t\t\telement.setAttribute('class', '');\n\t\t\telement.style.width = \"100%\";\n\t\t\telement.style.height = \"100%\";\n\t\t\tsvg.style.width = \"100%\";\n\t\t\tsvg.style.height = \"100%\";\n\n\t\t\tvar defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');\n\n\t\t\tvar clipPath = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n\t\t\tclipPath.setAttribute('id', clipPathID);\n\t\t\tclipPath.setAttribute('clipPathUnits', svgUnits);\n\n\t\t\tvar polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');\n\t\t\tpolygon.setAttribute('points', pathPoints);\n\n\t\t\tvar foreignObject = document.createElementNS('http://www.w3.org/2000/svg', 'foreignObject');\n\t\t\tforeignObject.setAttribute('clip-path', 'url(#'+clipPathID+')');\n\t\t\tforeignObject.setAttribute('width', '100%');\n\t\t\tforeignObject.setAttribute('height', '100%');\n\n\t\t\tforeignObject.appendChild(element.cloneNode(true));\n\t\t\tsvg.appendChild(foreignObject);\n\n\t\t\tclipPath.appendChild(polygon);\n\t\t\tdefs.appendChild(clipPath);\n\t\t\tsvg.appendChild(defs);\n\n\t\t\telement.parentNode.replaceChild(svg, element);\n\t\t}else{\n\t\t\tvar clipPath = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n\t\t\tclipPath.setAttribute('id', clipPathID);\n\n\t\t\tclipPath.setAttribute('clipPathUnits', svgUnits);\n\n\t\t\tvar polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');\n\t\t\tpolygon.setAttribute('points', pathPoints);\n\n\t\t\tclipPath.appendChild(polygon);\n\t\t\tsvg.appendChild(clipPath);\n\t\t\tdocument.body.appendChild(svg);\n\t\t\telement.setAttribute('data-clip-path-id', clipPathID);\n\n\t\t\tsetTimeout(function () {\n\t\t\t\telement.style.clipPath = 'url(#' + clipPathID + ')';\n\t\t\t}, 0);\n\t\t}\n\t}\n}\n\n/**\n * Apply clip path\n */\nfunction applyClipPath(element, pathPoints, _supportPolygon) {\n\n\t_supportPolygon = typeof _supportPolygon !== 'undefined' ? _supportPolygon : hasSupportToPolygon;\n\n\t// Chrome / Safari\n\tif(typeof(element.style.webkitClipPath) !== 'undefined'){\n\n\t\telement.style.webkitClipPath = 'polygon(' + pathPoints + ')';\n\n\t\t// Unprefixed support\n\t} else if(_supportPolygon){\n\n\t\telement.style.clipPath = 'polygon(' + pathPoints + ')';\n\n\t\t// SVG\n\t} else {\n\t\t//Edge\n\t\tif(window.navigator.userAgent.indexOf(\"Edge\") > -1){\n\n\t\t\tSVGPolyfill(element, pathPoints, true);\n\n\t\t\t//Other\n\t\t}else{\n\t\t\tSVGPolyfill(element, pathPoints);\n\t\t}\n\t}\n}\n\n/**\n * Main function\n */\nfunction ClipPath(selector, pathPoints, supportPolygon) {\n\n\tif(!selector) {\n\t\tconsole.error('Missing selector');\n\t\treturn false;\n\t}\n\n\tvar nodeList = document.querySelectorAll(selector || '');\n\n\tArray.prototype.forEach.call(nodeList, function(element) {\n\n\t\tvar elementPathPoints = element.getAttribute('data-clip') || pathPoints;\n\n\t\tif(elementPathPoints) {\n\t\t\tapplyClipPath(element, elementPathPoints, supportPolygon);\n\t\t} else {\n\t\t\tconsole.error('Missing clip-path parameters. Please check ClipPath() arguments or data-clip attribute.', element);\n\t\t}\n\n\t});\n\n}\n\nClipPath.applyClipPath = applyClipPath;\n\nif(typeof jQuery !== 'undefined') {\n\t(function($, _ClipPath){\n\t\t$.fn.ClipPath = function(pathStr) {\n\n\t\t\t// pathStr can be an object due backward compatibility\n\t\t\t// but pathStr must be a string\n\t\t\tif(pathStr === Object(pathStr) && pathStr.path) {\n\t\t\t\tpathStr = pathStr.path;\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t_ClipPath.applyClipPath(this, $(this).attr('data-clip') || pathStr);\n\t\t\t});\n\n\t\t};\n\t})(jQuery, ClipPath);\n}\n\nexport default ClipPath;\n","export default () => !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);","import ClipPath from './clip-path.polyfill';\nimport isChrome from './browser-validation';\n\nconst sliderControlsContainer = document.querySelector('.hero__slider-controls');\nconst sliderControls = document.querySelectorAll('.hero__slider-button');\nconst slides = document.querySelectorAll('.hero__slide');\nconst hero = document.querySelector('.hero');\n\nif (!isChrome()) {\n  console.log('not chrome', ClipPath && true);\n  \n  ClipPath('.hero__slide-img');\n}\n\nsliderControlsContainer.addEventListener('click', event => {\n  const element = event.target; \n  if (element.matches('.hero__slider-button') && !element.matches('.js-active')) {\n    removeSliderControlsActiveState();\n    setActiveSlide();\n    element.classList.add('js-active');\n  }\n});\n\nconst removeSliderControlsActiveState = () => {\n  sliderControls.forEach((sliderControl) => {\n    sliderControl.classList.remove('js-active');\n  });\n}\n\nconst setActiveSlide = () => {\n  slides.forEach(slide => {\n    slide.matches('.js-active')\n      ? slide.classList.remove('js-active')\n      : slide.classList.add('js-active');\n  });\n\n  hero.classList.contains('hero--alternate')\n      ? hero.classList.remove('hero--alternate')\n      : hero.classList.add('hero--alternate');\n}\n\nconst updateShareCount = (network, value) => {\n  const box = document.querySelector(`.shared-count__box--${network}`);\n  const count = box.querySelector('.shared-count__box-count');\n\n  count.innerHTML = value;\n}\n\nfetch('https://api.sharedcount.com/v1.0/?url=https://makingsense.com&apikey=ec99452c1504d1492a830532ae403f4c6e65ef51')\n  .then(function(response) {\n    return response.json();\n  })\n  .then(function(networks) {\n    updateShareCount('facebook', networks.Facebook.total_count);\n    /* Intentionally using facebook data because other networks were not availabe */\n    updateShareCount('instagram', networks.Facebook.reaction_count);\n    updateShareCount('twitter', networks.Facebook.share_count);\n    updateShareCount('linkedin', networks.Facebook.comment_count);\n  });"]}